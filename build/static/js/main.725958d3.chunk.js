(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(4),a=n(1),u=n(16),s=n.n(u),o=n(5),i=n.n(o),d=(n(40),function(e){var t=e.clt,n=e.isFindName,u=Object(a.useState)(""),s=Object(c.a)(u,2),o=s[0],i=s[1];return Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)("label",{htmlFor:"searchName",children:"Input person's name here: "}),Object(r.jsx)("input",{id:"searchName",onChange:function(e){i(e.currentTarget.value)}}),n(o,t)&&Object(r.jsxs)("p",{children:[n(o,t).name,", phone: ",n(o,t).pnum]}),Object(r.jsx)("hr",{})]})}),l=function(e){var t=e.handler1,n=e.handler2,c=e.addSubjH;return Object(r.jsxs)("form",{onSubmit:c,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"name",children:"Name: "}),Object(r.jsx)("input",{id:"name",onChange:t}),Object(r.jsx)("br",{}),Object(r.jsx)("label",{htmlFor:"pnum",children:"Phonenumber: "}),Object(r.jsx)("input",{id:"pnum",onChange:n})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"Add"})})]})},b=function(e){var t=e.dataClt,n=e.btnClickHdlr;return Object(r.jsx)(a.Fragment,{children:t.map((function(e){return Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(r.jsxs)("p",{children:[e.name,", Phone: ",e.number]}),Object(r.jsx)("button",{onClick:n,children:e.id})]},e.id)}))})},j=function(e){var t=e.message;return Object(r.jsx)("div",{className:"error",children:t})},p=n(3),h=n.n(p),f=n(6),m="https://infinite-shore-33852.herokuapp.com/".concat("api/persons"),O={getRecordClt:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(m);case 2:return t=e.sent,console.log("This is response promise",t),e.prev=4,e.abrupt("return",t.data);case 8:return e.prev=8,e.t0=e.catch(4),e.abrupt("return",alert("Sth wrong!"));case 11:case"end":return e.stop()}}),e,null,[[4,8]])})));return function(){return e.apply(this,arguments)}}(),addRecord:function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post(m,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),removeRecord:function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("".concat(m,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateRecord:function(){var e=Object(f.a)(h.a.mark((function e(t,n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.put("".concat(m,"/").concat(t),n);case 2:return r=e.sent,e.prev=3,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",alert("Sth wrong!"));case 10:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t,n){return e.apply(this,arguments)}}()},x=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],u=t[1],s=Object(a.useState)(""),o=Object(c.a)(s,2),i=o[0],p=o[1],h=Object(a.useState)("0123456789"),f=Object(c.a)(h,2),m=f[0],x=f[1],v=Object(a.useState)(""),g=Object(c.a)(v,2),w=g[0],k=g[1];Object(a.useEffect)((function(){O.getRecordClt().then((function(e){return u(e)}))}),[]);var C=function(e,t){return t.find((function(t){return t.name===e}))};return Object(r.jsxs)("div",{children:[""!==w&&Object(r.jsx)(j,{message:w}),Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(d,{clt:n,isFindName:C}),Object(r.jsx)(l,{handler1:function(e){p(e.currentTarget.value)},handler2:function(e){x(e.currentTarget.value)},addSubjH:function(e){if(e.preventDefault(),C(i,n)){window.confirm("Name ".concat(i," already existed! Click OK will change the phone number!"));var t=n.find((function(e){return e.name===i}));O.updateRecord(t.id,{name:i,number:m}),p("")}else O.addRecord({name:i,number:m}),k("Added successfully")}}),Object(r.jsx)("h2",{children:"Numbers"}),Object(r.jsx)(b,{dataClt:n,btnClickHdlr:function(e){var t=e.currentTarget.textContent;console.log(t),O.removeRecord(t),window.confirm("The record you clicked is deleted.")}})]})};t.default=x;s.a.render(Object(r.jsx)(x,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.725958d3.chunk.js.map